
@{
    ViewBag.titulo = "Recuperar Contraseña";
    Layout = "~/Views/Shared/_Login.cshtml";
}

<br>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <div class="panels">
                <div class="span12">
                    <div class="panel animated flipInY">
                        <div class="panel-heading text-center text-bold">Recuperar Contraseña</div>
                        <div class="panel-body">
                            <form novalidate action="@Url.Action("RecoverPassword")" method="post">
                                <div class="container-fluid no-padding">
                                    <div class="row-fluid">
                                        <div class="text-center">
                                            <img class="logo" alt="" src="@Url.Content("~/Public/img/logo.png")" />
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <ul class="breadcrumb">
                                            <li>
                                                <a href="@Url.Action("Index")" data-placement="top" title="Volver a la página de Acceso">Acceso</a>
                                                <span class="divider">/</span>
                                            </li>
                                            <li class="active">Recuperar Contraseña</li>
                                        </ul>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span12">
                                            @Html.Label("CorreoElectronico", "Correo Electrónico")
                                            @Html.TextBox("CorreoElectronico", null, new { @class = "input-block-level", @type = "email", @placeholder = "Escriba su dirección de correo electrónico", @data_message = "Debe ingresar su nombre de usuario", @data_selectonfocus = true, @required = true })
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="panel-footer">
                            <div class="container-fluid no-padding">
                                <div class="row-fluid">
                                    <div class="span12">
                                        <a id="BtnClear" href="javascript:void(0);" class="btn btn-warning pull-left" data-placement="top" title="Limpiar formulario">
                                            <i class="icon-eraser"></i>
                                            &nbsp;
                                            Limpiar
                                        </a>
                                        <a id="BtnRecover" href="javascript:void(0);" class="btn btn-success pull-right" data-placement="top" title="Se le enviará un Correo Electrónico con su Nueva Contraseña.">
                                            <i class="icon-envelope-alt"></i>
                                            &nbsp;
                                            Recuperar
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .logo {
        margin-bottom: 72px !important;
        max-width: 280px !important;
    }

    .panels {
        margin: 0 auto;
        max-width: 640px;
    }

        .panels .panel {
            max-width: 320px;
            margin: 0 auto;
        }
</style>

<script>
    $(function () {
        var BtnClear = $("#BtnClear");
        var BtnRecover = $("#BtnRecover");
        var Email = $("#Email");

        $(Email).focus();

		$(BtnClear).click(function(e) {
			e.preventDefault();

			var Form = $("form:first");

			App.ClearForm(Form);
		});

		$(BtnRecover).click(function(e) {
		    e.preventDefault();
		    $(Loader).show();

			var Form = $("form:first");

			var isValidForm = App.ValidateForm(Form);

			if (isValidForm) {
				$(Form).submit();
			}
		});
	});
</script>
